# Backend runtime
PORT=8787
VIBBIT_ALLOW_ORIGIN=*
VIBBIT_REQUEST_TIMEOUT_MS=60000
VIBBIT_EMPTY_RETRIES=2
VIBBIT_VALIDATION_RETRIES=2
# Optional path for persisted admin-configured provider settings.
VIBBIT_STATE_FILE=.vibbit-backend-state.json
# Optional fixed admin auth token for /admin endpoints.
# If empty, backend auto-generates and persists one in VIBBIT_STATE_FILE.
VIBBIT_ADMIN_TOKEN=
# Bookmarklet endpoints
VIBBIT_BOOKMARKLET_ENABLED=true
VIBBIT_BOOKMARKLET_ENABLE_BYOK=false

# Auth mode
# 1) Classroom mode (recommended for schools)
#    Leave SERVER_APP_TOKEN empty and share the generated class code with students.
VIBBIT_CLASSROOM_ENABLED=true
VIBBIT_CLASSROOM_CODE=
VIBBIT_CLASSROOM_CODE_AUTO=true
# Generated classroom codes are 5 uppercase letters.
VIBBIT_CLASSROOM_CODE_LENGTH=5
VIBBIT_CLASSROOM_SEED=
VIBBIT_SESSION_TTL_MS=28800000

# 2) Legacy app-token mode (optional)
#    If set, classroom mode is disabled and extension APP_TOKEN must match this value.
SERVER_APP_TOKEN=

# Provider and model routing
VIBBIT_ENABLED_PROVIDERS=openai,gemini,openrouter
VIBBIT_PROVIDER=openai
VIBBIT_MODEL=gpt-4o-mini

# Optional model allow-lists (comma-separated)
VIBBIT_OPENAI_ALLOWED_MODELS=
VIBBIT_GEMINI_ALLOWED_MODELS=
VIBBIT_OPENROUTER_ALLOWED_MODELS=

# Shared/default key fallback (optional if setting keys via /admin)
VIBBIT_API_KEY=

# Provider-specific overrides (optional if setting keys via /admin)
VIBBIT_OPENAI_API_KEY=
VIBBIT_OPENAI_MODEL=gpt-4o-mini

VIBBIT_GEMINI_API_KEY=
VIBBIT_GEMINI_MODEL=gemini-2.5-flash

VIBBIT_OPENROUTER_API_KEY=
VIBBIT_OPENROUTER_MODEL=openrouter/auto
